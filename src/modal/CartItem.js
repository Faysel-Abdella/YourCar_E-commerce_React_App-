import { useDispatch } from "react-redux";

import { carActions } from "../store/carDataStore";

import classes from "./CartItem.module.css";

const CartItem = (props) => {
  let imageSrc = require(`../assets/carsSectionImgs/car${props.imageNumber}.png`);

  const dispatch = useDispatch();

  const removeCarFromCartHandler = () => {
    dispatch(
      carActions.removeCarFromCart({
        id: props.id,
      })
    );
  };

  const addCarToCartHandler = () => {
    dispatch(
      carActions.addCarToCart({
        id: props.id,
        name: props.name,
        class: props.name,
        image: props.imageNumber,
      })
    );
  };

  const deleteCarFromCartHandler = () => {
    dispatch(carActions.deleteCarFromCart({ id: props.id }));
  };

  return (
    <div className={classes["cart-item"]}>
      <div className={classes["cart-texts-container"]}>
        <h1>{props.class}</h1>
        <h4>{props.name}</h4>
        <div className={classes["cart-quantity-conatiner"]}>
          <small onClick={removeCarFromCartHandler}>-</small>
          <h2>{props.orderedQuantity}</h2>
          <small onClick={addCarToCartHandler}>+</small>

          <button onClick={deleteCarFromCartHandler}>
            <svg
              width="19"
              height="22"
              viewBox="0 0 19 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g id="Group">
                <path
                  id="Vector"
                  d="M5.94719 0.834932C5.83116 0.845957 5.74611 0.861707 5.65949 0.888481C5.27992 1.00556 4.94025 1.29378 4.68667 1.7143C4.6305 1.80722 4.53968 1.98992 4.49873 2.09387C4.40213 2.33642 4.33178 2.61257 4.29923 2.87349C4.27823 3.04096 4.27665 3.08086 4.27403 3.42578L4.2714 3.77123H3.21301C2.52579 3.77123 2.13205 3.77333 2.0911 3.777C1.8916 3.7938 1.70365 3.87098 1.54248 4.00065C1.49103 4.04213 1.39601 4.14083 1.35558 4.19438C1.24061 4.34715 1.15556 4.54402 1.12511 4.72777C1.12091 4.75454 1.11566 4.78447 1.11408 4.79339L1.11146 4.81072H0.639488H0.166992V5.35934V5.90796H9.15228H18.1376V5.35934V4.81072H17.5102H16.8834L16.8802 4.79339C16.8786 4.78447 16.875 4.75979 16.8718 4.73985C16.8445 4.55452 16.7589 4.35502 16.6382 4.1928C16.5999 4.14135 16.5043 4.04265 16.4523 4.00065C16.2912 3.87045 16.1011 3.79275 15.9027 3.77648C15.8649 3.77333 15.4081 3.77123 14.7293 3.77123H13.6174V3.46463C13.6174 3.29558 13.6147 3.12181 13.6121 3.07719C13.5691 2.44562 13.3633 1.88072 13.0199 1.4497C12.9527 1.36518 12.8115 1.2229 12.7327 1.1599C12.5165 0.987181 12.2933 0.886906 12.0293 0.842807C11.981 0.834932 11.7494 0.833882 8.97116 0.833357C7.31795 0.833357 5.95716 0.833882 5.94719 0.834932ZM11.9001 2.29074C11.9962 2.30072 12.0823 2.33222 12.1679 2.38892C12.2251 2.42672 12.3222 2.52384 12.3695 2.58999C12.4445 2.69551 12.5165 2.86404 12.5485 3.00999C12.5758 3.13284 12.5789 3.18061 12.5815 3.48616L12.5842 3.77123H8.94753H5.31142L5.31352 3.46516C5.31562 3.14176 5.31719 3.12076 5.34397 3.00474C5.43689 2.60364 5.68836 2.32224 5.98236 2.29127C6.04536 2.28444 11.8355 2.28444 11.9001 2.29074Z"
                  fill="#2C2A2A"
                />
                <path
                  id="Vector_2"
                  d="M0.166992 6.91854V7.23616H0.193242H0.219492V7.49341V7.75066L0.648413 7.75171L1.07786 7.75328L1.10201 7.91078C1.11566 7.99741 1.13981 8.15228 1.15608 8.25465C1.35558 9.53039 1.46898 10.2554 1.48998 10.3914C1.50415 10.4822 1.5724 10.9195 1.6417 11.3626C1.87638 12.8641 2.12417 14.447 2.34257 15.8461C2.46227 16.6126 2.61137 17.566 2.67384 17.9644C2.92847 19.5924 3.14581 20.9842 3.17521 21.1737C3.19254 21.284 3.21039 21.3963 3.21459 21.4231C3.21879 21.4499 3.22246 21.473 3.22246 21.4751C3.22246 21.4777 5.85426 21.4793 9.07091 21.4793C12.2876 21.4793 14.9194 21.4782 14.9194 21.4772C14.9194 21.4751 14.9482 21.2997 15.0427 20.7233C15.0643 20.592 15.1162 20.2755 15.1582 20.0198C15.2774 19.2921 15.2931 19.1966 15.3598 18.7913C15.4564 18.2038 15.5866 17.4111 15.6963 16.7412C15.7515 16.4063 15.8281 15.9385 15.867 15.7017C15.9058 15.4649 15.983 14.9972 16.0376 14.6622C16.0927 14.3273 16.1694 13.8595 16.2082 13.6227C16.2471 13.386 16.3143 12.977 16.3573 12.7145C16.4004 12.4515 16.4807 11.9627 16.5358 11.6277C16.5909 11.2928 16.6629 10.8534 16.6959 10.6513C16.8251 9.86376 16.8429 9.75456 16.8886 9.47789C16.9143 9.32039 16.9569 9.06315 16.9826 8.90565C17.0918 8.23785 17.1616 7.81471 17.1669 7.78373L17.1726 7.75066H17.6551H18.1376V7.17579V6.60092H9.15228H0.166992V6.91854ZM5.79021 8.10241C6.02069 8.12498 6.22753 8.2347 6.38608 8.41898C6.45171 8.49563 6.49213 8.55705 6.53781 8.65102C6.59136 8.76075 6.61761 8.8416 6.64176 8.97127L6.65331 9.03427L6.65488 13.8301C6.65593 17.2662 6.65488 18.6422 6.65068 18.6837C6.62863 18.9042 6.54148 19.1231 6.41023 19.2853C6.36088 19.3467 6.26428 19.436 6.20286 19.478C6.09576 19.551 5.97606 19.6003 5.85584 19.6208C5.76869 19.6355 5.59124 19.636 5.50514 19.6213C5.21272 19.5709 4.95757 19.3667 4.81635 19.0696C4.7691 18.9698 4.73865 18.8701 4.71502 18.7383C4.70662 18.6921 4.7061 18.3718 4.70452 13.9167C4.70295 10.5767 4.704 9.12352 4.7082 9.07522C4.72447 8.8752 4.7859 8.68987 4.8888 8.5329C5.01532 8.34023 5.19329 8.20058 5.39437 8.13705C5.50672 8.10188 5.65267 8.08876 5.79021 8.10241ZM9.22841 8.10241C9.38066 8.11815 9.52818 8.17328 9.64788 8.25885C9.74868 8.33025 9.8605 8.45153 9.92717 8.55968C10.0148 8.70405 10.0747 8.8899 10.0894 9.06577C10.0936 9.1146 10.0946 10.4932 10.0936 13.9089C10.092 18.3855 10.091 18.6868 10.0826 18.7378C10.0463 18.9562 9.96235 19.1478 9.83635 19.2979C9.68883 19.4743 9.50035 19.5856 9.28931 19.6218C9.23313 19.6313 9.21056 19.6323 9.09191 19.6297C8.97221 19.6276 8.95226 19.626 8.90291 19.614C8.82626 19.5956 8.78951 19.5825 8.71549 19.5473C8.60891 19.4964 8.53226 19.4402 8.44301 19.3467C8.28079 19.1761 8.17894 18.953 8.14954 18.7031C8.14272 18.6448 8.14167 18.0511 8.14167 13.869C8.14167 10.5935 8.14324 9.08415 8.14692 9.04687C8.18839 8.63843 8.43829 8.28668 8.78164 8.15438C8.83781 8.13285 8.93913 8.10818 8.99478 8.10293C9.06198 8.09663 9.17013 8.09663 9.22841 8.10241ZM12.7459 8.10241C13.0204 8.13075 13.2619 8.28405 13.4242 8.5329C13.5055 8.6568 13.5559 8.7849 13.5927 8.96077L13.6037 9.01327L13.6053 13.8327C13.6069 18.2532 13.6063 18.658 13.5985 18.7204C13.5481 19.1252 13.285 19.4706 12.9364 19.5888C12.843 19.6208 12.802 19.6271 12.6655 19.6297C12.5243 19.6329 12.4734 19.6281 12.3826 19.6045C12.0361 19.5137 11.761 19.1992 11.6801 18.8023C11.6749 18.7745 11.667 18.7294 11.6633 18.7021C11.6534 18.6275 11.6534 9.1125 11.6633 9.03165C11.6733 8.955 11.6933 8.86102 11.7143 8.79855C11.8413 8.41163 12.1516 8.14073 12.5128 8.10293C12.5721 8.09663 12.6876 8.09663 12.7459 8.10241Z"
                  fill="#2C2A2A"
                />
              </g>
            </svg>
          </button>
        </div>
      </div>
      <div className={classes["cart-image-container"]}>
        <img src={imageSrc} alt="oredred car" />
      </div>
    </div>
  );
};

export default CartItem;
