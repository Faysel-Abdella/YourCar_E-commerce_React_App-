import { useSelector, useDispatch } from "react-redux";

import { carActions } from "../store/carDataStore";

import CartItem from "./CartItem";

import classes from "./cart.module.css";

const Cart = (props) => {
  const cartArray = useSelector((state) => state.orderedCars);
  const dispatch = useDispatch();

  const deleteAllCarsFromCartHandler = () => {
    dispatch(carActions.deleteAllCarFromCart());
  };

  return (
    <div
      className={`${classes["cart-modal"]} ${
        props.cartShow ? classes["show-cart"] : ""
      }`}
    >
      <div className={classes["cart-items"]}>
        {cartArray.map((car) => (
          <CartItem
            key={car.id}
            name={car.name}
            class={car.class}
            imageNumber={car.image}
            orderedQuantity={car.orderedQuantity}
            id={car.id}
          />
        ))}
      </div>

      <div
        className={classes["delete-button"]}
        onClick={deleteAllCarsFromCartHandler}
      >
        <div>
          <p>Delete All</p>
          <button>
            <svg
              width="23"
              height="26"
              viewBox="0 0 23 26"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.58576 0.995287C7.44821 1.00836 7.34739 1.02703 7.2447 1.05877C6.79472 1.19756 6.39204 1.53924 6.09143 2.03777C6.02484 2.14793 5.91717 2.36451 5.86862 2.48775C5.75411 2.77528 5.67071 3.10265 5.63212 3.41197C5.60723 3.61051 5.60536 3.65781 5.60225 4.06671L5.59914 4.47624H4.34442C3.52973 4.47624 3.06295 4.47873 3.01441 4.48308C2.7779 4.503 2.55509 4.59449 2.36402 4.74822C2.30303 4.79738 2.19038 4.91439 2.14246 4.97787C2.00616 5.15898 1.90533 5.39237 1.86923 5.61021C1.86426 5.64195 1.85803 5.67742 1.85617 5.688L1.85305 5.70854H1.29354H0.733398V6.35892V7.00931H11.3854H22.0373V6.35892V5.70854H21.2936H20.5505L20.5467 5.688C20.5449 5.67742 20.5405 5.64817 20.5368 5.62452C20.5044 5.40482 20.403 5.16832 20.2598 4.976C20.2144 4.91501 20.1011 4.79801 20.0395 4.74822C19.8484 4.59387 19.6231 4.50175 19.3879 4.48246C19.3431 4.47873 18.8016 4.47624 17.9969 4.47624H16.6787V4.11277C16.6787 3.91236 16.6756 3.70636 16.6725 3.65346C16.6214 2.90474 16.3774 2.23506 15.9704 1.72409C15.8907 1.62389 15.7233 1.45522 15.63 1.38054C15.3736 1.17578 15.109 1.0569 14.796 1.00462C14.7387 0.995287 14.4643 0.994042 11.1706 0.99342C9.21078 0.99342 7.59759 0.994042 7.58576 0.995287ZM14.6429 2.72114C14.7568 2.73296 14.8588 2.7703 14.9603 2.83752C15.0281 2.88233 15.1433 2.99747 15.1993 3.07589C15.2883 3.20099 15.3736 3.40077 15.4115 3.57379C15.4439 3.71943 15.4476 3.77606 15.4507 4.13829L15.4538 4.47624H11.1426H6.83206L6.83455 4.11339C6.83704 3.73001 6.83891 3.70511 6.87065 3.56757C6.98081 3.09207 7.27893 2.75848 7.62746 2.72176C7.70214 2.71367 14.5663 2.71367 14.6429 2.72114Z"
                fill="white"
              />
              <path
                d="M0.733398 8.20739V8.58393H0.764517H0.795636V8.88889V9.19386L1.30412 9.1951L1.81322 9.19697L1.84185 9.38368C1.85803 9.48637 1.88666 9.66998 1.90596 9.79134C2.14246 11.3037 2.27689 12.1632 2.30179 12.3244C2.31859 12.4321 2.3995 12.9505 2.48165 13.4758C2.75986 15.2558 3.05362 17.1323 3.31253 18.7909C3.45443 19.6996 3.63118 20.8298 3.70524 21.3022C4.0071 23.2322 4.26476 24.8821 4.29961 25.1068C4.32015 25.2375 4.34131 25.3707 4.34629 25.4024C4.35127 25.4341 4.35563 25.4615 4.35563 25.464C4.35563 25.4671 7.4756 25.469 11.2889 25.469C15.1022 25.469 18.2222 25.4677 18.2222 25.4665C18.2222 25.464 18.2564 25.2561 18.3684 24.5728C18.3939 24.4172 18.4556 24.0419 18.5053 23.7388C18.6466 22.8762 18.6653 22.7629 18.7443 22.2824C18.8589 21.586 19.0132 20.6462 19.1433 19.852C19.2086 19.455 19.2995 18.9004 19.3456 18.6197C19.3916 18.3391 19.4831 17.7845 19.5478 17.3874C19.6132 16.9904 19.704 16.4358 19.7501 16.1551C19.7962 15.8744 19.8758 15.3896 19.9269 15.0784C19.9779 14.7666 20.0731 14.1872 20.1385 13.7901C20.2038 13.393 20.2891 12.8721 20.3283 12.6325C20.4814 11.6989 20.5026 11.5695 20.5567 11.2415C20.5872 11.0548 20.6376 10.7498 20.6681 10.5631C20.7976 9.77142 20.8803 9.26979 20.8866 9.23307L20.8934 9.19386H21.4654H22.0373V8.51236V7.83085H11.3854H0.733398V8.20739ZM7.39967 9.61085C7.67289 9.63761 7.91811 9.76769 8.10607 9.98614C8.18386 10.077 8.23179 10.1498 8.28593 10.2612C8.34942 10.3913 8.38053 10.4872 8.40916 10.6409L8.42286 10.7156L8.42472 16.401C8.42597 20.4744 8.42472 22.1057 8.41974 22.1548C8.3936 22.4162 8.29029 22.6758 8.1347 22.8681C8.07619 22.9409 7.96168 23.0467 7.88886 23.0965C7.76189 23.183 7.61999 23.2415 7.47747 23.2658C7.37415 23.2832 7.16379 23.2838 7.06172 23.2664C6.71506 23.2067 6.41258 22.9646 6.24516 22.6123C6.18915 22.494 6.15305 22.3758 6.12504 22.2196C6.11509 22.1648 6.11446 21.7851 6.1126 16.5037C6.11073 12.5441 6.11197 10.8214 6.11695 10.7641C6.13625 10.527 6.20906 10.3073 6.33105 10.1212C6.48104 9.89279 6.69203 9.72723 6.9304 9.65193C7.06359 9.61023 7.23661 9.59467 7.39967 9.61085ZM11.4756 9.61085C11.6561 9.62952 11.831 9.69487 11.9729 9.79632C12.0924 9.88096 12.225 10.0247 12.304 10.1529C12.4079 10.3241 12.4789 10.5444 12.4963 10.7529C12.5013 10.8108 12.5025 12.4452 12.5013 16.4943C12.4994 21.8013 12.4982 22.1586 12.4882 22.2189C12.4453 22.4779 12.3457 22.705 12.1963 22.883C12.0214 23.0921 11.798 23.2241 11.5478 23.267C11.4812 23.2782 11.4545 23.2795 11.3138 23.2764C11.1719 23.2739 11.1482 23.272 11.0897 23.2577C10.9989 23.2359 10.9553 23.2203 10.8675 23.1786C10.7412 23.1183 10.6503 23.0517 10.5445 22.9409C10.3522 22.7386 10.2315 22.4741 10.1966 22.1779C10.1885 22.1088 10.1873 21.4049 10.1873 16.447C10.1873 12.564 10.1892 10.7747 10.1935 10.7305C10.2427 10.2463 10.5389 9.8293 10.946 9.67246C11.0126 9.64695 11.1327 9.6177 11.1987 9.61147C11.2783 9.604 11.4065 9.604 11.4756 9.61085ZM15.6455 9.61085C15.971 9.64446 16.2573 9.82619 16.4496 10.1212C16.5461 10.2681 16.6059 10.4199 16.6494 10.6284L16.6625 10.6907L16.6644 16.4041C16.6662 21.6445 16.6656 22.1243 16.6563 22.1984C16.5965 22.6783 16.2847 23.0878 15.8715 23.2278C15.7607 23.2658 15.7121 23.2733 15.5503 23.2764C15.3829 23.2801 15.3225 23.2745 15.2148 23.2465C14.8041 23.1388 14.478 22.766 14.3821 22.2955C14.3759 22.2625 14.3665 22.209 14.3622 22.1766C14.3504 22.0882 14.3504 10.8083 14.3622 10.7125C14.374 10.6216 14.3977 10.5102 14.4226 10.4361C14.5732 9.97743 14.941 9.65628 15.3692 9.61147C15.4395 9.604 15.5764 9.604 15.6455 9.61085Z"
                fill="white"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>
  );
};

export default Cart;
